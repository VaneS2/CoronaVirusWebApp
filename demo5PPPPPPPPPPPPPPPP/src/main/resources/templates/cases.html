<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<head>
  <style>
    #kopce {
      background-color: orange;
      color: black;

    }
    #lala {text-align: center;
      margin-top:17.2rem;
      margin-bottom: 300px;
      font-size: 110px;
      color: orange;
    }
    #lala1 {text-align: center;
      margin-top:17.2rem;
      margin-bottom: 300px;
      font-size: 110px;
      color: orange;
    }

  </style>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8"/>
    <title>Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
      p,span{
        font-family: "Roboto";
      }
    </style>

  </head>

</head>
<body>
<nav style="background: black" class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
  <div class="container">
    <a class="navbar-brand" href="#">

      <div> <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/SARS-CoV-2_without_background.png" alt="..." height="40"> &nbsp;COVID-19 NEWS</div>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>


    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/events">News</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/cases">Statistics</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/global">Global</a>
        </li>

      </ul>
    </div>
  </div>
</nav>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script th:inline="javascript">
  var myval = /*[[${nastani}]]*/ "TEST";



  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(drawChart);

  var d=new Array()

  console.log(d[0]);
  d[0]=['Year','Deaths']
  for(var i=0;i<myval.length;i++)
  {

    d[i+1]=[myval[i].datum + " ",myval[i].deaths];
  }
  console.log(d)
  function drawChart() {
    var data = google.visualization.arrayToDataTable(d,false);

    var options = {
      title: 'Deaths',

      curveType: 'function',
      colors: ['red'],
      legend: { position: 'bottom' }, chartArea: {
        left: 40,
        width: '100%'
      },
      legend: {
        position: 'top'
      },
      width: '100%'
    };


  }
</script>

<style>
  .chart {
    width: 100%;
    min-height: 450px;
  }
  .row {
    margin:0 !important;
  }
</style>

<script  th:inline="javascript" >
  var myval = /*[[${nastani}]]*/
          console.log(d[0]);
  d[0]=['Year','Deaths']
  for(var i=0;i<myval.length;i++)
  {

    d[i+1]=[myval[i].datum + " ",myval[i].deaths];
  }
  console.log(d)



  google.charts.setOnLoadCallback(drawChart1);
  function drawChart1() {
    var data = google.visualization.arrayToDataTable(d,false);

    var options = {
      title: 'Deaths',
      colors:['red'],
      hAxis: {title: 'Date', titleTextStyle: {color: 'black'}}
    };

    var chart = new google.visualization.LineChart(document.getElementById('chart_div2'));
    chart.draw(data, options);
  }



  var f=new Array()


  f[0]=['Year', 'Cases']
  for(var i=0;i<myval.length;i++)
  {

    f[i+1]=[myval[i].datum + " ",myval[i].confirmed];
  }


  google.charts.setOnLoadCallback(drawChart2);
  function drawChart2() {
    var data = google.visualization.arrayToDataTable(f,false);

    var options = {
      title: 'Cases',

      hAxis: {title: 'Date', titleTextStyle: {color: 'black'}}
    };

    var chart = new google.visualization.LineChart(document.getElementById('chart_div1'));
    chart.draw(data, options);
  }


  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


</script>


<script th:inline="javascript">
  var vkupno = /*[[${vkupno}]]*/ "Test";

  var m=new Array()


  m[0]=['Year', 'Cases']
  for(var i=0;i<vkupno.length;i++)
  {

    m[i+1]=[vkupno[i].datum + " ",vkupno[i].confirmed];
  }


  google.charts.setOnLoadCallback(drawChart3);
  function drawChart3() {
    var data = google.visualization.arrayToDataTable(m,false);

    var options = {
      title: 'Cases',

      hAxis: {title: 'Date', titleTextStyle: {color: 'black'}}
    };

    var chart = new google.visualization.LineChart(document.getElementById('vkupnoCases'));
    chart.draw(data, options);
  }







</script>







<script th:inline="javascript">
  var vkupno = /*[[${vkupno}]]*/ "test";



  var la=new Array()


  la[0]=['Year', 'Deaths']
  for(var i=0;i<vkupno.length;i++)
  {

    la[i+1]=[vkupno[i].datum + " ",vkupno[i].deaths];
  }


  google.charts.setOnLoadCallback(drawChart56);
  function drawChart56() {
    var data = google.visualization.arrayToDataTable(la,false);

    var options = {
      title: 'Cases',
      colors: ['red'],
      hAxis: {title: 'Date', titleTextStyle: {color: 'black'}}
    };

    var chart = new google.visualization.LineChart(document.getElementById('vkupnoDeaths'));
    chart.draw(data, options);
  }




</script>





<style>
  .chart {
    width: 100%;
    min-height: 450px;
  }
  .row {
    margin:0 !important;
  }
</style>


<div class="row">
  <div  class="col-md-12 text-center">

    <p  style="width: 300px; font-family: Roboto"><h1 class=" text-center" th:text="${session.zemja}">MACEDONIA</h1> <img th:src="${countryInfo.countryImg}"> </p>
    <form class=" text-center" th:method="GET" th:action="@{'/cases/country'}">
      
    </form>

  </div>
</div>

<div style="height: 45px"></div>

<style>
  .visina{
    height: 100px;
    font-family: Roboto;
    padding: 3px;
  }
  .chartss{
    height: 400px;
  }
</style>

<div class="container-fluid">
  <div style="font-family: Roboto" class="row my-custom-row justify-content-center align-items-center">

    <div th:class="col-9" class="text-center">Last updated:
      <h5 th:text="${datumm}"></h5>
    </div>

    <div class="col-sm-4 visina col-md-4 col-lg-4 bg-light text-center rounded-pill ">
      <h3>Confirmed cases </h3> <h1 th:text="${countryInfo.cases}">56 000</h1>
    </div>
    <div class="col-sm-4 visina col-md-4 col-lg-4 bg-light offset-md-1 text-center rounded-pill     ">
      <h3>Daily cases </h3> <h1 th:text="${countryInfo.totalCases}">4 000</h1>
    </div>
    <div style="height: 10px" class="col-12"></div>

    <div class="col-sm-6 chartss col-md-5 col-lg-5     ">
      <div id="vkupnoCases" class="chart"></div>
    </div>
    <div class="col-sm-6 chartss col-md-5 col-lg-5      ">
      <div id="chart_div1" class="chart"></div>
    </div>


    <div style="height: 80px" class="col-12"></div>
    <div class="col-sm-4 visina col-md-4 col-lg-4 bg-light text-center rounded-pill ">
      <h3>Deaths  </h3> <h1 th:text="${countryInfo.deaths}">56 000</h1>
    </div>
    <div class="col-sm-4 visina col-md-4 col-lg-4 bg-light offset-md-1 text-center rounded-pill     ">
      <h3>Daily deaths </h3> <h1 th:text="${countryInfo.todayDeaths}">4 000</h1>
    </div>
    <div style="height: 10px" class="col-12"></div>

    <div class="col-sm-4 chartss col-md-5 col-lg-5     ">
      <div id="vkupnoDeaths" class="chart"></div>
    </div>
    <div class="col-sm-4 chartss col-md-5 col-lg-5   ">
      <div id="chart_div2" class="chart"></div>
    </div>


    <div style="height: 80px" class="col-12"></div>

    <div class="col-sm-4 visina col-md-4 col-lg-4 bg-light text-center rounded-pill ">
      <h3>Recovered </h3> <h1 th:text="${countryInfo.recovered}">56 000</h1>
    </div>
    <div class="col-sm-4 visina col-md-4 col-lg-4 bg-light offset-md-1 text-center rounded-pill     ">
      <h3>Daily recovered </h3> <h1 th:text="${countryInfo.todayRecovered}">4 000</h1>
    </div>
    <div style="height: 10px" class="col-12"></div>

    <div class="col-sm-4 chartss col-md-5 col-lg-5     ">

        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script th:inline="javascript">
          var pita = /*[[${pita}]]*/ Test;

          var  niziste = pita.split(".");
          console.log(niziste);



          google.charts.load("current", {packages:["corechart"]});
          google.charts.setOnLoadCallback(drawChart655);
          function drawChart655() {
            var data = google.visualization.arrayToDataTable([
              ['d', 'd'],
              ['Cases',     parseInt(niziste[0])],
              ['Deaths',  parseInt(niziste[3]) ],
              ['Active',  parseInt(niziste[2]) ],
              ['Recovered',       parseInt(niziste[1])]

            ]);

            var options = {
              title: '',
              is3D: true,
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
            chart.draw(data, options);
          }
        </script>

      <div id="piechart_3d" style="width: 900px; height: 500px;"></div>

    </div>


<div style="height: 150px;"></div>
</div>

<br/>
<br/>
<br/>
</div>




</body>
</html>